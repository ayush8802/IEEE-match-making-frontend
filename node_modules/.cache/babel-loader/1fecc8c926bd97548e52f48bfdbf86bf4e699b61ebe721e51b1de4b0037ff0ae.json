{"ast":null,"code":"var _jsxFileName = \"D:\\\\ieee match making\\\\frontend\\\\src\\\\pages\\\\Questionnaire.js\",\n  _s = $RefreshSig$();\n/**\r\n * Questionnaire Page\r\n * Multi-step questionnaire form with validation\r\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport questionsData from \"../data/questions\";\nimport { saveQuestionnaire, getQuestionnaire } from \"../services/questionnaireService\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport \"../styles/questionnaire.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Questionnaire() {\n  _s();\n  const [sections] = useState(questionsData);\n  const [sectionIndex, setSectionIndex] = useState(0);\n  const [formData, setFormData] = useState({});\n  const [customOptions, setCustomOptions] = useState({});\n  const [showAddInputFor, setShowAddInputFor] = useState(null);\n  const [addInputValue, setAddInputValue] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const isShortTextType = t => t === \"short-text\" || t === \"short text\" || t === \"shorttext\";\n  const mergedOptionsFor = q => {\n    const predefined = q.options || [];\n    const custom = customOptions[q.key] || [];\n    const combined = [...predefined];\n    for (const c of custom) if (!combined.includes(c)) combined.push(c);\n    return combined;\n  };\n  function LikertInline({\n    name,\n    value,\n    onChange\n  }) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"likert-inline\",\n      children: [1, 2, 3, 4, 5].map(n => {\n        const isSelected = Number(value) === n;\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          className: `likert-label ${isSelected ? \"selected\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: name,\n            value: n,\n            checked: isSelected,\n            onChange: () => onChange(n)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"likert-value\",\n            children: n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this)]\n        }, n, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n  const handleChange = (key, value, type) => {\n    setFormData(prev => {\n      const next = {\n        ...prev\n      };\n      if (type === \"multi-select\") {\n        const current = Array.isArray(next[key]) ? [...next[key]] : [];\n        const idx = current.indexOf(value);\n        if (idx >= 0) current.splice(idx, 1);else current.push(value);\n        next[key] = current;\n      } else {\n        next[key] = value;\n      }\n      return next;\n    });\n  };\n  const addCustomOption = (qKey, value) => {\n    if (!value || !value.trim()) return;\n    const val = value.trim();\n    setCustomOptions(prev => {\n      const next = {\n        ...prev\n      };\n      next[qKey] = next[qKey] ? [...next[qKey]] : [];\n      if (!next[qKey].includes(val)) next[qKey].push(val);\n      return next;\n    });\n    const q = findQuestionByKey(qKey);\n    if (!q) return;\n    if (q.type === \"multi-select\") {\n      setFormData(prev => ({\n        ...prev,\n        [qKey]: [...(prev[qKey] || []), val]\n      }));\n    } else if (q.type === \"single-select\") {\n      setFormData(prev => ({\n        ...prev,\n        [qKey]: val\n      }));\n    }\n    setAddInputValue(\"\");\n    setShowAddInputFor(null);\n  };\n  const findQuestionByKey = key => {\n    for (const sec of sections) {\n      for (const it of sec.items) if (it.key === key) return it;\n    }\n    return null;\n  };\n  const validateSection = () => {\n    const sec = sections[sectionIndex];\n    for (const q of sec.items) {\n      if (!q.required) continue;\n      if (q.type === \"special-research-questions\") {\n        let anyFilled = false;\n        for (let i = 1; i <= 3; i++) {\n          const textKey = `${q.key}_q${i}`;\n          if (formData[textKey] && formData[textKey].trim()) anyFilled = true;\n        }\n        if (!anyFilled) {\n          alert(`Please fill at least one research question in \"${q.question}\"`);\n          return false;\n        }\n        continue;\n      }\n      const val = formData[q.key];\n      if (q.type === \"multi-select\") {\n        if (!val || !Array.isArray(val) || val.length === 0) {\n          alert(`Please complete: \"${q.question}\"`);\n          return false;\n        }\n      } else if (q.type === \"single-select\") {\n        if (!val || val === \"Other\" && !formData[`${q.key}_other`]) {\n          alert(`Please complete: \"${q.question}\"`);\n          return false;\n        }\n      } else if (isShortTextType(q.type) && (!val || !val.trim())) {\n        alert(`Please complete: \"${q.question}\"`);\n        return false;\n      }\n    }\n    return true;\n  };\n  const handleNext = () => {\n    if (!validateSection()) return;\n    if (sectionIndex < sections.length - 1) setSectionIndex(sectionIndex + 1);\n  };\n  const handleBack = () => {\n    if (sectionIndex > 0) setSectionIndex(sectionIndex - 1);\n  };\n\n  // Load existing user answers\n  useEffect(() => {\n    async function load() {\n      try {\n        const response = await getQuestionnaire();\n        const data = response.data;\n        if (data && typeof data === 'object') {\n          const prefill = {\n            ...data\n          };\n          if (Array.isArray(data.problems_top_questions)) {\n            data.problems_top_questions.forEach((q, i) => {\n              prefill[`problems_top_questions_q${i + 1}`] = q.question || \"\";\n              prefill[`problems_top_questions_q${i + 1}_readiness`] = q.readiness || null;\n              prefill[`problems_top_questions_q${i + 1}_priority`] = q.priority || null;\n            });\n          }\n          if (Array.isArray(data.top_3_collab_topics)) {\n            prefill.top_3_collab_topics = data.top_3_collab_topics;\n          }\n          prefill.linkedin_url = data.linkedin_url || \"\";\n          setFormData(prefill);\n        }\n      } catch (error) {\n        console.error(\"Error loading questionnaire:\", error);\n        alert(\"Failed to load existing responses: \" + error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    load();\n  }, []);\n  const handleSubmit = async () => {\n    if (!validateSection()) return;\n    try {\n      setIsSubmitting(true);\n      const answersPayload = {\n        ...formData\n      };\n\n      // SPECIAL RESEARCH QUESTIONS (problems_top_questions)\n      const specialQuestions = [];\n      const srq = findQuestionByKey(\"problems_top_questions\");\n      if (srq) {\n        for (let i = 1; i <= 3; i++) {\n          const question = formData[`problems_top_questions_q${i}`];\n          if (question && question.trim()) {\n            specialQuestions.push({\n              question,\n              readiness: formData[`problems_top_questions_q${i}_readiness`] || null,\n              priority: formData[`problems_top_questions_q${i}_priority`] || null\n            });\n          }\n        }\n      }\n      answersPayload.problems_top_questions = specialQuestions;\n\n      // Handle top 3 collaboration topics\n      const collabTopics = [];\n      const topicsArray = formData.top_3_collab_topics || [];\n      for (let i = 0; i < topicsArray.length; i++) {\n        const t = topicsArray[i];\n        if (t.topic && t.topic.trim()) {\n          collabTopics.push({\n            topic: t.topic.trim(),\n            expertise: t.expertise || null,\n            interest: t.interest || null,\n            need_have_both: t.need_have_both || null\n          });\n        }\n      }\n      answersPayload.top_3_collab_topics = collabTopics;\n\n      // Submit using service\n      await saveQuestionnaire(answersPayload);\n      alert(\"✅ Submitted successfully!\");\n    } catch (err) {\n      console.error(\"Submit error:\", err);\n      alert(\"Submit failed: \" + err.message);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      message: \"Loading questionnaire...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 16\n    }, this);\n  }\n  const section = sections[sectionIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"questionnaire-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: section.section\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this), section.items.map((q, idx) => {\n        const mergedOptions = q.type === \"multi-select\" || q.type === \"single-select\" ? mergedOptionsFor(q) : [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"question-text\",\n            children: [q.question, \" \", q.required && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this), isShortTextType(q.type) && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"text-input\",\n            placeholder: q.placeholder || \"\",\n            value: formData[q.key] || \"\",\n            onChange: e => handleChange(q.key, e.target.value, q.type)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 33\n          }, this), q.type === \"single-select\" && mergedOptions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options\",\n            children: [mergedOptions.map((opt, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: q.key,\n                value: opt,\n                checked: formData[q.key] === opt,\n                onChange: e => handleChange(q.key, e.target.value, q.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 45\n              }, this), opt]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 41\n            }, this)), q.allowOther && formData[q.key] === \"Other\" && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"text-input\",\n              placeholder: \"Please specify...\",\n              value: formData[`${q.key}_other`] || \"\",\n              onChange: e => handleChange(`${q.key}_other`, e.target.value, \"short-text\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 41\n            }, this), q.allowCustomOption && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-option\",\n              children: showAddInputFor === q.key ? /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"add-option-input\",\n                placeholder: \"Type new option and press Enter...\",\n                value: addInputValue,\n                onChange: e => setAddInputValue(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === \"Enter\") addCustomOption(q.key, addInputValue);\n                  if (e.key === \"Escape\") {\n                    setShowAddInputFor(null);\n                    setAddInputValue(\"\");\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 49\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-option-btn\",\n                onClick: () => setShowAddInputFor(q.key),\n                children: \"+ Add option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 33\n          }, this), q.type === \"multi-select\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chip-container\",\n              children: mergedOptions.map((opt, i) => {\n                const selected = Array.isArray(formData[q.key]) && formData[q.key].includes(opt);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `chip ${selected ? \"selected\" : \"\"}`,\n                  onClick: () => handleChange(q.key, opt, q.type),\n                  children: opt\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 49\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 37\n            }, this), q.allowCustomOption && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-option\",\n              children: showAddInputFor === q.key ? /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"add-option-input\",\n                placeholder: \"Type new option and press Enter...\",\n                value: addInputValue,\n                onChange: e => setAddInputValue(e.target.value),\n                onKeyDown: e => {\n                  if (e.key === \"Enter\") addCustomOption(q.key, addInputValue);\n                  if (e.key === \"Escape\") {\n                    setShowAddInputFor(null);\n                    setAddInputValue(\"\");\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 49\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"add-option-btn\",\n                onClick: () => setShowAddInputFor(q.key),\n                children: \"+ Add option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true), q.type === \"top-3-collab-topics\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"research-questions\",\n            children: [1, 2, 3].map(n => {\n              var _formData$q$key;\n              const topicKey = `${q.key}_topic${n}`;\n              const topic = ((_formData$q$key = formData[q.key]) === null || _formData$q$key === void 0 ? void 0 : _formData$q$key[n - 1]) || {\n                topic: \"\",\n                expertise: 0,\n                interest: 0,\n                need_have_both: \"\"\n              };\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"research-question-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"text-input\",\n                  placeholder: `Topic ${n}`,\n                  value: topic.topic,\n                  onChange: e => {\n                    const updated = [...(formData[q.key] || [])];\n                    updated[n - 1] = {\n                      ...topic,\n                      topic: e.target.value\n                    };\n                    handleChange(q.key, updated, \"json\");\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 49\n                }, this), topic.topic.trim() && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"matrix-row small\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matrix-row-label\",\n                      children: \"Expertise (1\\u20135)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(LikertInline, {\n                      name: `${topicKey}_expertise`,\n                      value: topic.expertise,\n                      onChange: val => {\n                        const updated = [...(formData[q.key] || [])];\n                        updated[n - 1] = {\n                          ...topic,\n                          expertise: val\n                        };\n                        handleChange(q.key, updated, \"json\");\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"matrix-row small\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matrix-row-label\",\n                      children: \"Interest to collaborate (1\\u20135)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(LikertInline, {\n                      name: `${topicKey}_interest`,\n                      value: topic.interest,\n                      onChange: val => {\n                        const updated = [...(formData[q.key] || [])];\n                        updated[n - 1] = {\n                          ...topic,\n                          interest: val\n                        };\n                        handleChange(q.key, updated, \"json\");\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"matrix-row small\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matrix-row-label\",\n                      children: \"Datasets/Instruments/Materials\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"radio-group\",\n                      children: [\"Need\", \"Have\", \"Both\"].map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"radio\",\n                          name: `${topicKey}_need_have_both`,\n                          value: option,\n                          checked: topic.need_have_both === option,\n                          onChange: e => {\n                            const updated = [...(formData[q.key] || [])];\n                            updated[n - 1] = {\n                              ...topic,\n                              need_have_both: e.target.value\n                            };\n                            handleChange(q.key, updated, \"json\");\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 411,\n                          columnNumber: 73\n                        }, this), option]\n                      }, option, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 69\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true)]\n              }, n, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 33\n          }, this), q.type === \"special-research-questions\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"research-questions\",\n            children: [1, 2, 3].map(n => {\n              const textKey = `${q.key}_q${n}`;\n              const readinessKey = `${q.key}_q${n}_readiness`;\n              const priorityKey = `${q.key}_q${n}_priority`;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"research-question-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"text-input\",\n                  placeholder: `Research question ${n} (one sentence)`,\n                  value: formData[textKey] || \"\",\n                  onChange: e => handleChange(textKey, e.target.value, \"short-text\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 49\n                }, this), formData[textKey] && formData[textKey].trim() && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"matrix-row small\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matrix-row-label\",\n                      children: \"Readiness (1-5)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(LikertInline, {\n                      name: readinessKey,\n                      value: formData[readinessKey] || 0,\n                      onChange: val => handleChange(readinessKey, val, \"Likert\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"matrix-row small\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"matrix-row-label\",\n                      children: \"Priority this year (1-5)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(LikertInline, {\n                      name: priorityKey,\n                      value: formData[priorityKey] || 0,\n                      onChange: val => handleChange(priorityKey, val, \"Likert\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true)]\n              }, n, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 33\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-buttons\",\n        children: [sectionIndex > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 42\n        }, this), sectionIndex < sections.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-btn\",\n          onClick: handleNext,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 60\n        }, this), sectionIndex === sections.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-btn\",\n          onClick: handleSubmit,\n          disabled: isSubmitting,\n          children: isSubmitting ? \"Submitting...\" : \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 9\n  }, this);\n}\n_s(Questionnaire, \"P7RWm/+4k33Tpog9HWModMdnIsc=\");\n_c = Questionnaire;\nvar _c;\n$RefreshReg$(_c, \"Questionnaire\");","map":{"version":3,"names":["React","useState","useEffect","questionsData","saveQuestionnaire","getQuestionnaire","LoadingSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","Questionnaire","_s","sections","sectionIndex","setSectionIndex","formData","setFormData","customOptions","setCustomOptions","showAddInputFor","setShowAddInputFor","addInputValue","setAddInputValue","isSubmitting","setIsSubmitting","isLoading","setIsLoading","isShortTextType","t","mergedOptionsFor","q","predefined","options","custom","key","combined","c","includes","push","LikertInline","name","value","onChange","className","children","map","n","isSelected","Number","type","checked","fileName","_jsxFileName","lineNumber","columnNumber","handleChange","prev","next","current","Array","isArray","idx","indexOf","splice","addCustomOption","qKey","trim","val","findQuestionByKey","sec","it","items","validateSection","required","anyFilled","i","textKey","alert","question","length","handleNext","handleBack","load","response","data","prefill","problems_top_questions","forEach","readiness","priority","top_3_collab_topics","linkedin_url","error","console","message","handleSubmit","answersPayload","specialQuestions","srq","collabTopics","topicsArray","topic","expertise","interest","need_have_both","err","section","mergedOptions","placeholder","e","target","opt","allowOther","allowCustomOption","onKeyDown","onClick","selected","_formData$q$key","topicKey","updated","option","readinessKey","priorityKey","disabled","_c","$RefreshReg$"],"sources":["D:/ieee match making/frontend/src/pages/Questionnaire.js"],"sourcesContent":["/**\r\n * Questionnaire Page\r\n * Multi-step questionnaire form with validation\r\n */\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport questionsData from \"../data/questions\";\r\nimport { saveQuestionnaire, getQuestionnaire } from \"../services/questionnaireService\";\r\nimport LoadingSpinner from \"../components/LoadingSpinner\";\r\nimport \"../styles/questionnaire.css\";\r\n\r\nexport default function Questionnaire() {\r\n    const [sections] = useState(questionsData);\r\n    const [sectionIndex, setSectionIndex] = useState(0);\r\n    const [formData, setFormData] = useState({});\r\n    const [customOptions, setCustomOptions] = useState({});\r\n    const [showAddInputFor, setShowAddInputFor] = useState(null);\r\n    const [addInputValue, setAddInputValue] = useState(\"\");\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const isShortTextType = (t) =>\r\n        t === \"short-text\" || t === \"short text\" || t === \"shorttext\";\r\n\r\n    const mergedOptionsFor = (q) => {\r\n        const predefined = q.options || [];\r\n        const custom = customOptions[q.key] || [];\r\n        const combined = [...predefined];\r\n        for (const c of custom) if (!combined.includes(c)) combined.push(c);\r\n        return combined;\r\n    };\r\n\r\n    function LikertInline({ name, value, onChange }) {\r\n        return (\r\n            <div className=\"likert-inline\">\r\n                {[1, 2, 3, 4, 5].map((n) => {\r\n                    const isSelected = Number(value) === n;\r\n                    return (\r\n                        <label key={n} className={`likert-label ${isSelected ? \"selected\" : \"\"}`}>\r\n                            <input\r\n                                type=\"radio\"\r\n                                name={name}\r\n                                value={n}\r\n                                checked={isSelected}\r\n                                onChange={() => onChange(n)}\r\n                            />\r\n                            <span className=\"likert-value\">{n}</span>\r\n                        </label>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleChange = (key, value, type) => {\r\n        setFormData((prev) => {\r\n            const next = { ...prev };\r\n            if (type === \"multi-select\") {\r\n                const current = Array.isArray(next[key]) ? [...next[key]] : [];\r\n                const idx = current.indexOf(value);\r\n                if (idx >= 0) current.splice(idx, 1);\r\n                else current.push(value);\r\n                next[key] = current;\r\n            } else {\r\n                next[key] = value;\r\n            }\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const addCustomOption = (qKey, value) => {\r\n        if (!value || !value.trim()) return;\r\n        const val = value.trim();\r\n        setCustomOptions((prev) => {\r\n            const next = { ...prev };\r\n            next[qKey] = next[qKey] ? [...next[qKey]] : [];\r\n            if (!next[qKey].includes(val)) next[qKey].push(val);\r\n            return next;\r\n        });\r\n\r\n        const q = findQuestionByKey(qKey);\r\n        if (!q) return;\r\n\r\n        if (q.type === \"multi-select\") {\r\n            setFormData((prev) => ({ ...prev, [qKey]: [...(prev[qKey] || []), val] }));\r\n        } else if (q.type === \"single-select\") {\r\n            setFormData((prev) => ({ ...prev, [qKey]: val }));\r\n        }\r\n\r\n        setAddInputValue(\"\");\r\n        setShowAddInputFor(null);\r\n    };\r\n\r\n    const findQuestionByKey = (key) => {\r\n        for (const sec of sections) {\r\n            for (const it of sec.items) if (it.key === key) return it;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const validateSection = () => {\r\n        const sec = sections[sectionIndex];\r\n        for (const q of sec.items) {\r\n            if (!q.required) continue;\r\n\r\n            if (q.type === \"special-research-questions\") {\r\n                let anyFilled = false;\r\n                for (let i = 1; i <= 3; i++) {\r\n                    const textKey = `${q.key}_q${i}`;\r\n                    if (formData[textKey] && formData[textKey].trim()) anyFilled = true;\r\n                }\r\n                if (!anyFilled) {\r\n                    alert(`Please fill at least one research question in \"${q.question}\"`);\r\n                    return false;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            const val = formData[q.key];\r\n            if (q.type === \"multi-select\") {\r\n                if (!val || !Array.isArray(val) || val.length === 0) {\r\n                    alert(`Please complete: \"${q.question}\"`);\r\n                    return false;\r\n                }\r\n            } else if (q.type === \"single-select\") {\r\n                if (!val || (val === \"Other\" && !formData[`${q.key}_other`])) {\r\n                    alert(`Please complete: \"${q.question}\"`);\r\n                    return false;\r\n                }\r\n            } else if (isShortTextType(q.type) && (!val || !val.trim())) {\r\n                alert(`Please complete: \"${q.question}\"`);\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (!validateSection()) return;\r\n        if (sectionIndex < sections.length - 1) setSectionIndex(sectionIndex + 1);\r\n    };\r\n\r\n    const handleBack = () => {\r\n        if (sectionIndex > 0) setSectionIndex(sectionIndex - 1);\r\n    };\r\n\r\n    // Load existing user answers\r\n    useEffect(() => {\r\n        async function load() {\r\n            try {\r\n                const response = await getQuestionnaire();\r\n                const data = response.data;\r\n\r\n                if (data && typeof data === 'object') {\r\n                    const prefill = { ...data };\r\n                    if (Array.isArray(data.problems_top_questions)) {\r\n                        data.problems_top_questions.forEach((q, i) => {\r\n                            prefill[`problems_top_questions_q${i + 1}`] = q.question || \"\";\r\n                            prefill[`problems_top_questions_q${i + 1}_readiness`] = q.readiness || null;\r\n                            prefill[`problems_top_questions_q${i + 1}_priority`] = q.priority || null;\r\n                        });\r\n                    }\r\n                    if (Array.isArray(data.top_3_collab_topics)) {\r\n                        prefill.top_3_collab_topics = data.top_3_collab_topics;\r\n                    }\r\n                    prefill.linkedin_url = data.linkedin_url || \"\";\r\n                    setFormData(prefill);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error loading questionnaire:\", error);\r\n                alert(\"Failed to load existing responses: \" + error.message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        }\r\n        load();\r\n    }, []);\r\n\r\n    const handleSubmit = async () => {\r\n        if (!validateSection()) return;\r\n\r\n        try {\r\n            setIsSubmitting(true);\r\n\r\n            const answersPayload = { ...formData };\r\n\r\n            // SPECIAL RESEARCH QUESTIONS (problems_top_questions)\r\n            const specialQuestions = [];\r\n            const srq = findQuestionByKey(\"problems_top_questions\");\r\n            if (srq) {\r\n                for (let i = 1; i <= 3; i++) {\r\n                    const question = formData[`problems_top_questions_q${i}`];\r\n                    if (question && question.trim()) {\r\n                        specialQuestions.push({\r\n                            question,\r\n                            readiness: formData[`problems_top_questions_q${i}_readiness`] || null,\r\n                            priority: formData[`problems_top_questions_q${i}_priority`] || null,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            answersPayload.problems_top_questions = specialQuestions;\r\n\r\n            // Handle top 3 collaboration topics\r\n            const collabTopics = [];\r\n            const topicsArray = formData.top_3_collab_topics || [];\r\n            for (let i = 0; i < topicsArray.length; i++) {\r\n                const t = topicsArray[i];\r\n                if (t.topic && t.topic.trim()) {\r\n                    collabTopics.push({\r\n                        topic: t.topic.trim(),\r\n                        expertise: t.expertise || null,\r\n                        interest: t.interest || null,\r\n                        need_have_both: t.need_have_both || null,\r\n                    });\r\n                }\r\n            }\r\n            answersPayload.top_3_collab_topics = collabTopics;\r\n\r\n            // Submit using service\r\n            await saveQuestionnaire(answersPayload);\r\n            alert(\"✅ Submitted successfully!\");\r\n        } catch (err) {\r\n            console.error(\"Submit error:\", err);\r\n            alert(\"Submit failed: \" + err.message);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <LoadingSpinner message=\"Loading questionnaire...\" />;\r\n    }\r\n\r\n    const section = sections[sectionIndex];\r\n\r\n    return (\r\n        <div className=\"questionnaire-container\">\r\n            <div className=\"section-card\">\r\n                <h2>{section.section}</h2>\r\n                {section.items.map((q, idx) => {\r\n                    const mergedOptions = q.type === \"multi-select\" || q.type === \"single-select\" ? mergedOptionsFor(q) : [];\r\n                    return (\r\n                        <div key={idx} className=\"question-block\">\r\n                            <p className=\"question-text\">\r\n                                {q.question} {q.required && <span className=\"required\">*</span>}\r\n                            </p>\r\n\r\n                            {/* SHORT TEXT */}\r\n                            {isShortTextType(q.type) && (\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"text-input\"\r\n                                    placeholder={q.placeholder || \"\"}\r\n                                    value={formData[q.key] || \"\"}\r\n                                    onChange={(e) => handleChange(q.key, e.target.value, q.type)}\r\n                                />\r\n                            )}\r\n\r\n                            {/* SINGLE SELECT */}\r\n                            {q.type === \"single-select\" && mergedOptions.length > 0 && (\r\n                                <div className=\"options\">\r\n                                    {mergedOptions.map((opt, i) => (\r\n                                        <label key={i}>\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                name={q.key}\r\n                                                value={opt}\r\n                                                checked={formData[q.key] === opt}\r\n                                                onChange={(e) => handleChange(q.key, e.target.value, q.type)}\r\n                                            />\r\n                                            {opt}\r\n                                        </label>\r\n                                    ))}\r\n\r\n                                    {/* Other textbox */}\r\n                                    {q.allowOther && formData[q.key] === \"Other\" && (\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"text-input\"\r\n                                            placeholder=\"Please specify...\"\r\n                                            value={formData[`${q.key}_other`] || \"\"}\r\n                                            onChange={(e) => handleChange(`${q.key}_other`, e.target.value, \"short-text\")}\r\n                                        />\r\n                                    )}\r\n\r\n                                    {/* Add custom option */}\r\n                                    {q.allowCustomOption && (\r\n                                        <div className=\"add-option\">\r\n                                            {showAddInputFor === q.key ? (\r\n                                                <input\r\n                                                    className=\"add-option-input\"\r\n                                                    placeholder=\"Type new option and press Enter...\"\r\n                                                    value={addInputValue}\r\n                                                    onChange={(e) => setAddInputValue(e.target.value)}\r\n                                                    onKeyDown={(e) => {\r\n                                                        if (e.key === \"Enter\") addCustomOption(q.key, addInputValue);\r\n                                                        if (e.key === \"Escape\") {\r\n                                                            setShowAddInputFor(null);\r\n                                                            setAddInputValue(\"\");\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                            ) : (\r\n                                                <button className=\"add-option-btn\" onClick={() => setShowAddInputFor(q.key)}>\r\n                                                    + Add option\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* MULTI-SELECT */}\r\n                            {q.type === \"multi-select\" && (\r\n                                <>\r\n                                    <div className=\"chip-container\">\r\n                                        {mergedOptions.map((opt, i) => {\r\n                                            const selected = Array.isArray(formData[q.key]) && formData[q.key].includes(opt);\r\n                                            return (\r\n                                                <div\r\n                                                    key={i}\r\n                                                    className={`chip ${selected ? \"selected\" : \"\"}`}\r\n                                                    onClick={() => handleChange(q.key, opt, q.type)}\r\n                                                >\r\n                                                    {opt}\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                    {q.allowCustomOption && (\r\n                                        <div className=\"add-option\">\r\n                                            {showAddInputFor === q.key ? (\r\n                                                <input\r\n                                                    className=\"add-option-input\"\r\n                                                    placeholder=\"Type new option and press Enter...\"\r\n                                                    value={addInputValue}\r\n                                                    onChange={(e) => setAddInputValue(e.target.value)}\r\n                                                    onKeyDown={(e) => {\r\n                                                        if (e.key === \"Enter\") addCustomOption(q.key, addInputValue);\r\n                                                        if (e.key === \"Escape\") {\r\n                                                            setShowAddInputFor(null);\r\n                                                            setAddInputValue(\"\");\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                            ) : (\r\n                                                <button className=\"add-option-btn\" onClick={() => setShowAddInputFor(q.key)}>\r\n                                                    + Add option\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n\r\n                            {/* TOP 3 COLLABORATION TOPICS */}\r\n                            {q.type === \"top-3-collab-topics\" && (\r\n                                <div className=\"research-questions\">\r\n                                    {[1, 2, 3].map((n) => {\r\n                                        const topicKey = `${q.key}_topic${n}`;\r\n                                        const topic = formData[q.key]?.[n - 1] || { topic: \"\", expertise: 0, interest: 0, need_have_both: \"\" };\r\n\r\n                                        return (\r\n                                            <div key={n} className=\"research-question-item\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"text-input\"\r\n                                                    placeholder={`Topic ${n}`}\r\n                                                    value={topic.topic}\r\n                                                    onChange={(e) => {\r\n                                                        const updated = [...(formData[q.key] || [])];\r\n                                                        updated[n - 1] = { ...topic, topic: e.target.value };\r\n                                                        handleChange(q.key, updated, \"json\");\r\n                                                    }}\r\n                                                />\r\n\r\n                                                {topic.topic.trim() && (\r\n                                                    <>\r\n                                                        <div className=\"matrix-row small\">\r\n                                                            <div className=\"matrix-row-label\">Expertise (1–5)</div>\r\n                                                            <LikertInline\r\n                                                                name={`${topicKey}_expertise`}\r\n                                                                value={topic.expertise}\r\n                                                                onChange={(val) => {\r\n                                                                    const updated = [...(formData[q.key] || [])];\r\n                                                                    updated[n - 1] = { ...topic, expertise: val };\r\n                                                                    handleChange(q.key, updated, \"json\");\r\n                                                                }}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"matrix-row small\">\r\n                                                            <div className=\"matrix-row-label\">Interest to collaborate (1–5)</div>\r\n                                                            <LikertInline\r\n                                                                name={`${topicKey}_interest`}\r\n                                                                value={topic.interest}\r\n                                                                onChange={(val) => {\r\n                                                                    const updated = [...(formData[q.key] || [])];\r\n                                                                    updated[n - 1] = { ...topic, interest: val };\r\n                                                                    handleChange(q.key, updated, \"json\");\r\n                                                                }}\r\n                                                            />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"matrix-row small\">\r\n                                                            <div className=\"matrix-row-label\">Datasets/Instruments/Materials</div>\r\n                                                            <div className=\"radio-group\">\r\n                                                                {[\"Need\", \"Have\", \"Both\"].map((option) => (\r\n                                                                    <label key={option}>\r\n                                                                        <input\r\n                                                                            type=\"radio\"\r\n                                                                            name={`${topicKey}_need_have_both`}\r\n                                                                            value={option}\r\n                                                                            checked={topic.need_have_both === option}\r\n                                                                            onChange={(e) => {\r\n                                                                                const updated = [...(formData[q.key] || [])];\r\n                                                                                updated[n - 1] = { ...topic, need_have_both: e.target.value };\r\n                                                                                handleChange(q.key, updated, \"json\");\r\n                                                                            }}\r\n                                                                        />\r\n                                                                        {option}\r\n                                                                    </label>\r\n                                                                ))}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* SPECIAL RESEARCH QUESTIONS */}\r\n                            {q.type === \"special-research-questions\" && (\r\n                                <div className=\"research-questions\">\r\n                                    {[1, 2, 3].map((n) => {\r\n                                        const textKey = `${q.key}_q${n}`;\r\n                                        const readinessKey = `${q.key}_q${n}_readiness`;\r\n                                        const priorityKey = `${q.key}_q${n}_priority`;\r\n\r\n                                        return (\r\n                                            <div key={n} className=\"research-question-item\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"text-input\"\r\n                                                    placeholder={`Research question ${n} (one sentence)`}\r\n                                                    value={formData[textKey] || \"\"}\r\n                                                    onChange={(e) => handleChange(textKey, e.target.value, \"short-text\")}\r\n                                                />\r\n                                                {formData[textKey] && formData[textKey].trim() && (\r\n                                                    <>\r\n                                                        <div className=\"matrix-row small\">\r\n                                                            <div className=\"matrix-row-label\">Readiness (1-5)</div>\r\n                                                            <LikertInline\r\n                                                                name={readinessKey}\r\n                                                                value={formData[readinessKey] || 0}\r\n                                                                onChange={(val) => handleChange(readinessKey, val, \"Likert\")}\r\n                                                            />\r\n                                                        </div>\r\n                                                        <div className=\"matrix-row small\">\r\n                                                            <div className=\"matrix-row-label\">Priority this year (1-5)</div>\r\n                                                            <LikertInline\r\n                                                                name={priorityKey}\r\n                                                                value={formData[priorityKey] || 0}\r\n                                                                onChange={(val) => handleChange(priorityKey, val, \"Likert\")}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n\r\n                <div className=\"nav-buttons\">\r\n                    {sectionIndex > 0 && <button className=\"back-btn\" onClick={handleBack}>Back</button>}\r\n                    {sectionIndex < sections.length - 1 && <button className=\"next-btn\" onClick={handleNext}>Next</button>}\r\n                    {sectionIndex === sections.length - 1 && (\r\n                        <button className=\"submit-btn\" onClick={handleSubmit} disabled={isSubmitting}>\r\n                            {isSubmitting ? \"Submitting...\" : \"Submit\"}\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}